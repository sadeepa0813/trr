
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="google-site-verification" content="WlaDrx8RonvdwEu2oOOE_kdvvXQNXd70wH8Ej5HoSYo" />
  <title>A/L & O/L Exam Countdown</title>
  <link rel="icon" href="https://i.ibb.co/jZJK1jqK/exam-bot-dp2.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    /* ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ CSS ‡∂ë‡∂ö ‡∂î‡∂∂‡∂ú‡∑ö ‡∂¥‡∑ê‡∂ª‡∂´‡∑í ‡∑Ä‡∑ô‡∂∂‡∑ä ‡∂ë‡∂ö‡∑ö ‡∂≠‡∑í‡∂∂‡∑î‡∂´‡∑î ‡∂¥‡∂ª‡∑í‡∂Ø‡∑í‡∂∏ */
    :root{
      --bg:#0f1724; 
      --card:#0b1220; 
      --accent:#7c3aed; 
      --secondary:#10b981;
      --glass: rgba(255,255,255,0.04);
      --success: #22c55e;
      --accent2026: #ce13c4;
      --secondary2026: #f54df5;
      --accent2027: #8b5cf6;
      --secondary2027: #06b6d4;
      --accent-ol: #22c55e;
      --secondary-ol: #10b981;
      --whatsapp: #25D366;
      --muted: #94a3b8;
    }
    * {
      box-sizing:border-box;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;
      margin:0;
      padding:0;
    }
    body {
      min-height:100vh;
      background:linear-gradient(135deg,#071029 0%, #0f172a 50%, #1e293b 100%);
      color:#e6eef8;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
      animation: bgShift 30s ease-in-out infinite alternate;
    }
    /* ... ‡∂î‡∂∂‡∂ú‡∑ö ‡∑É‡∂∏‡∑ä‡∂¥‡∑ñ‡∂ª‡∑ä‡∂´ CSS ‡∂ë‡∂ö ‡∂∏‡∑ô‡∑Ñ‡∑í ‡∂á‡∂≠‡∑î‡∂Ω‡∂≠‡∑ä ‡∂ö‡∂ª‡∂±‡∑ä‡∂± ... */
  </style>
</head>
<body>
<div class="wrap">
  <!-- Header Section -->
  <div class="card">
    <header>
      <div class="logo" id="mainLogo">
        <img src="https://i.ibb.co/jZJK1jqK/exam-bot-dp2.png" alt="Exam Icon" style="width: 60%; height: 60%; object-fit: contain;">
      </div>
      <h1>A/L & O/L Exam Countdown</h1>
      <p class="lead">Advanced Level & Ordinary Level Exam Countdown</p>
    </header>
    <div class="batch-selector">
      <button class="batch-btn active" data-batch="2026">üéØ 2026 A/L</button>
      <button class="batch-btn batch-btn-2027" data-batch="2027">üéì 2027 A/L</button>
      <button class="batch-btn batch-btn-ol" data-batch="ol">üìñ 2026 O/L</button>
    </div>
  </div>
  
  <!-- 2026 A/L Section -->
  <div id="section2026" class="countdown-section">
    <div class="card card-2026">
      <div class="status-bar">
        <div class="countdown-status">
          <div class="status-dot"></div>
          August 2026 Batch
        </div>
        <div style="font-size:10px;color:var(--muted);">
          <span id="lastUpdate2026">Live</span>
        </div>
      </div>
      <div id="countdown2026" class="countdown">
        <div class="tile" id="daysTile2026">
          <div class="num" id="days2026">--</div>
          <div class="lbl">Days</div>
        </div>
        <div class="tile" id="hoursTile2026">
          <div class="num" id="hours2026">--</div>
          <div class="lbl">Hours</div>
        </div>
        <div class="tile" id="minutesTile2026">
          <div class="num" id="minutes2026">--</div>
          <div class="lbl">Minutes</div>
        </div>
        <div class="tile" id="secondsTile2026">
          <div class="num" id="seconds2026">--</div>
          <div class="lbl">Seconds</div>
        </div>
      </div>
      <div class="quote-section">
        <div class="quote-text" id="dailyQuote2026">Loading inspirational quote...</div>
        <div class="quote-number" id="quoteNumber2026"></div>
      </div>
      <div class="progress-section">
        <div class="progress-item">
          <div class="progress-info">
            <div class="progress-title">Days Passed</div>
            <div class="progress-subtitle">Since A/L 2026 preparation</div>
          </div>
          <div class="progress-value" id="daysPassed2026">0</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- 2027 A/L Section -->
  <div id="section2027" class="countdown-section hidden">
    <div class="card card-2027">
      <div class="status-bar">
        <div class="countdown-status countdown-status-2027">
          <div class="status-dot status-dot-2027"></div>
          August 2027 Batch
        </div>
        <div style="font-size:10px;color:var(--muted);">
          <span id="lastUpdate2027">Live</span>
        </div>
      </div>
      <div id="countdown2027" class="countdown">
        <div class="tile tile-2027" id="daysTile2027">
          <div class="num" id="days2027">--</div>
          <div class="lbl">Days</div>
        </div>
        <div class="tile tile-2027" id="hoursTile2027">
          <div class="num" id="hours2027">--</div>
          <div class="lbl">Hours</div>
        </div>
        <div class="tile tile-2027" id="minutesTile2027">
          <div class="num" id="minutes2027">--</div>
          <div class="lbl">Minutes</div>
        </div>
        <div class="tile tile-2027" id="secondsTile2027">
          <div class="num" id="seconds2027">--</div>
          <div class="lbl">Seconds</div>
        </div>
      </div>
      <div class="quote-section quote-section-2027">
        <div class="quote-text" id="dailyQuote2027">Loading inspirational quote...</div>
        <div class="quote-number quote-number-2027" id="quoteNumber2027"></div>
      </div>
      <div class="progress-section">
        <div class="progress-item">
          <div class="progress-info">
            <div class="progress-title">Days Passed</div>
            <div class="progress-subtitle">Since A/L 2027 preparation</div>
          </div>
          <div class="progress-value progress-value-2027" id="daysPassed2027">0</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- O/L Section -->
  <div id="sectionOL" class="countdown-section hidden">
    <div class="card card-ol">
      <div class="status-bar">
        <div class="countdown-status countdown-status-ol">
          <div class="status-dot status-dot-ol"></div>
          December 2026 O/L Batch
        </div>
        <div style="font-size:10px;color:var(--muted);">
          <span id="lastUpdateOL">Live</span>
        </div>
      </div>
      <div id="countdownOL" class="countdown">
        <div class="tile tile-ol" id="daysTileOL">
          <div class="num" id="daysOL">--</div>
          <div class="lbl">Days</div>
        </div>
        <div class="tile tile-ol" id="hoursTileOL">
          <div class="num" id="hoursOL">--</div>
          <div class="lbl">Hours</div>
        </div>
        <div class="tile tile-ol" id="minutesTileOL">
          <div class="num" id="minutesOL">--</div>
          <div class="lbl">Minutes</div>
        </div>
        <div class="tile tile-ol" id="secondsTileOL">
          <div class="num" id="secondsOL">--</div>
          <div class="lbl">Seconds</div>
        </div>
      </div>
      <div class="quote-section quote-section-ol">
        <div class="quote-text" id="dailyQuoteOL">Loading inspirational quote...</div>
        <div class="quote-number quote-number-ol" id="quoteNumberOL"></div>
      </div>
      <div class="progress-section">
        <div class="progress-item">
          <div class="progress-info">
            <div class="progress-title">Days Passed</div>
            <div class="progress-subtitle">Since O/L 2026 preparation</div>
          </div>
          <div class="progress-value progress-value-ol" id="daysPassedOL">0</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Subject Selection -->
  <div id="subjectSelectionCard" class="card">
    <div style="text-align: center; margin-bottom: 16px;">
      <h3 style="font-size: 16px; color: var(--accent2026); margin: 0 0 8px;">A/L 2026 Subject Selection</h3>
      <p style="font-size: 11px; color: var(--muted); margin: 0;">‡∂ö‡∑è‡∂Ω ‡∑É‡∂ß‡∑Ñ‡∂±‡∂ß ‡∂î‡∂±‡∑í ‡∑Ä‡∑í‡∑Å‡∂∫‡∂±‡∑ä ‡∂ß‡∑í‡∂ö ‡∂Ø‡∂Ω‡∑è ‡∑É‡∑í‡∂Ω‡∑ô‡∂ö‡∑ä‡∂ß‡∑ä ‡∂ö‡∂ª‡∂ú‡∂±‡∑ä‡∂±</p>
    </div>
    <div class="subjects-grid">
      <!-- Subjects Grid (‡∂î‡∂∂‡∂ú‡∑ö ‡∂¥‡∑ê‡∂ª‡∂´‡∑í ‡∂ë‡∂ö‡∂∏) -->
    </div>
    <div class="selected-count" id="selectedCount">0 subjects selected</div>
    <div class="selection-actions">
      <button class="submit-btn" onclick="showMyExamDates()">Show My Exam Dates</button>
      <button class="clear-btn" onclick="clearSelection()">Clear All</button>
    </div>
    <div class="complaint-section">
      <button class="complaint-btn" onclick="openComplaintWhatsApp()">üìù Report Complain</button>
      <p class="complaint-text">‡∂î‡∂∫‡∑è‡∂ú‡∑ö ‡∑Ä‡∑í‡∑Å‡∂∫‡∂ö‡∑ä ‡∂±‡∑ê‡∂≠‡∑í‡∂±‡∂∏‡∑ä ‡∑Ñ‡∑ù ‡∑Ä‡∑ö‡∂Ω‡∑è‡∑Ä ‡∑Ä‡∑ô‡∂±‡∑É‡∑ä ‡∂±‡∂∏‡∑ä ‡∑Ñ‡∑ù ‡∂ö‡∂∏‡∑ä‡∂¥‡∑ä‡∂Ω‡∑ö‡∂±‡∑ä ‡∂ë‡∂ö‡∂ö‡∑ä ‡∂Ø‡∑è‡∂±‡∑ä‡∂±<br>
      ‡∂Ö‡∂Ω‡∑î‡∂≠‡∑ä ‡∑Ä‡∑ô‡∂±‡∑ä‡∂± ‡∂î‡∂±‡∑í ‡∂Ø‡∑ô‡∑Ä‡∂Ω‡∑ä ‡∂î‡∂±‡∑í‡∂∏ ‡∂Ø‡∑ô‡∂∫‡∂ö‡∑ä ‡∂ö‡∑í‡∂∫‡∂±‡∑ä‡∂± </p>
    </div>
  </div>
  
  <!-- WhatsApp Section with 3 Buttons -->
  <div class="card whatsapp-section">
    <div class="wa-buttons">
      <button class="wa-btn wa-btn-chat" onclick="openWhatsAppBot('bot1')">
        <svg class="wa-icon" viewBox="0 0 24 24">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.150-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.040 1.016-1.040 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.200 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.360.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
        </svg>
        <span class="btn-text">ü§ñ A/L Countdown Bot</span>
      </button>
      
      <button class="wa-btn wa-btn-chat" onclick="openWhatsAppBot('bot2')" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
        <svg class="wa-icon" viewBox="0 0 24 24">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.150-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.040 1.016-1.040 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.200 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.360.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
        </svg>
        <span class="btn-text">üìù Report Complaint</span>
      </button>
      
      <button class="wa-btn wa-btn-chat" onclick="openWhatsAppBot('bot3')" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
        <svg class="wa-icon" viewBox="0 0 24 24">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.150-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.040 1.016-1.040 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.200 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.360.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
        </svg>
        <span class="btn-text">üÜò Help & Support</span>
      </button>
    </div>
  </div>
  
  <!-- Alert Popup -->
  <div id="alertPopup" class="alert-overlay">
    <div class="alert-modal">
      <div class="alert-icon" id="alertIcon">‚è∞</div>
      <h3 class="alert-title" id="alertTitle">Message</h3>
      <p class="alert-message" id="alertMessage">This is a message</p>
      <div class="alert-actions">
        <button class="alert-btn primary" onclick="closeAlert()">OK</button>
      </div>
    </div>
  </div>
  
  <!-- Footer -->
  <div class="footer">
    <div class="footer-text">
      Powered by <span class="footer-brand">Sadeepa & Shamika</span> ‚Ä¢ 
      <span id="currentTime"></span>
    </div>
  </div>
</div>

<!-- Floating Contact Button -->
<button id="contactBtn" class="floating-contact-btn">üìß</button>

<!-- Contact Popup -->
<div id="contactPopup" class="popup-overlay">
  <div class="contact-modal">
    <button class="close-popup" onclick="closeContactPopup()">√ó</button>
    <div class="contact-header">
      <div class="logo">üìß</div>
      <h2>Get In Touch</h2>
      <p>We'd love to hear from you</p>
    </div>
    <form id="contactForm">
      <input type="hidden" name="access_key" value="fd9a9424-521d-4b92-951d-bd41f19f7898">
      <div class="form-group">
        <label for="name">Full Name *</label>
        <input type="text" id="name" name="name" required placeholder="sadeepa">
      </div>
      <div class="form-group">
        <label for="email">Email Address *</label>
        <input type="email" id="email" name="email" required placeholder="sadeepa@example.com">
      </div>
      <div class="form-group">
        <label for="subject">Subject *</label>
        <input type="text" id="subject" name="subject" required placeholder="How can we help?">
      </div>
      <div class="form-group">
        <label for="message">Message *</label>
        <textarea id="message" name="message" required placeholder="Tell us more..."></textarea>
      </div>
      <button type="submit" class="submit-btn" id="submitBtn">Send Message</button>
    </form>
    <div id="statusMessage" class="status-message"></div>
  </div>
</div>

<!-- Timetable Popup -->
<div id="timetablePopup" class="popup-overlay">
  <div class="popup-modal">
    <div class="popup-header">
      <h3 class="popup-title">üìÖ Your Exam Timetable</h3>
      <button class="close-popup" onclick="closeTimetablePopup()">√ó</button>
    </div>
    <div class="popup-content">
      <div id="timetableContent">
        <!-- Timetable content will be generated here -->
      </div>
    </div>
    <div class="popup-actions">
      <button class="timetable-btn primary" onclick="copyTimetableToClipboard()">
        üìã Copy Timetable
      </button>
      <button class="timetable-btn secondary" onclick="closeTimetablePopup()">
        Close
      </button>
    </div>
  </div>
</div>

<script src="config.js"></script>
<script>
// Main JavaScript Code
// ====================

// Security measures
document.addEventListener('keydown', function(e) {
  if (e.key === 'F12') e.preventDefault();
  if (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'C')) e.preventDefault();
  if (e.ctrlKey && e.key === 'u') e.preventDefault();
});

document.addEventListener('contextmenu', function(e) {
  e.preventDefault();
});

// Core functionality
let currentBatch = '2026';

// Alert System
function showAlert(icon, title, message) {
  document.getElementById('alertIcon').textContent = icon;
  document.getElementById('alertTitle').textContent = title;
  document.getElementById('alertMessage').textContent = message;
  document.getElementById('alertPopup').classList.add('show');
  document.body.style.overflow = 'hidden';
}

function closeAlert() {
  document.getElementById('alertPopup').classList.remove('show');
  document.body.style.overflow = '';
}

// Batch Switching
function switchBatch(batch) {
  currentBatch = batch;
  document.querySelectorAll('.batch-btn').forEach(btn => btn.classList.remove('active'));
  document.querySelector(`[data-batch="${batch}"]`).classList.add('active');
  
  document.getElementById('section2026').classList.toggle('hidden', batch !== '2026');
  document.getElementById('section2027').classList.toggle('hidden', batch !== '2027');
  document.getElementById('sectionOL').classList.toggle('hidden', batch !== 'ol');
  document.getElementById('subjectSelectionCard').classList.toggle('hidden', batch !== '2026');
  
  const mainLogo = document.getElementById('mainLogo');
  mainLogo.className = 'logo';
  if(batch === '2027') {
    mainLogo.classList.add('logo-2027');
  } else if(batch === 'ol') {
    mainLogo.classList.add('logo-ol');
  }
  
  updateCountdown();
  getDailyQuote();
}

// Countdown System
function updateCountdown() {
  const now = new Date();
  const batches = [
    { year: '2026', target: CONFIG.examDates['2026'], studyStart: CONFIG.studyStartDates['2026'] },
    { year: '2027', target: CONFIG.examDates['2027'], studyStart: CONFIG.studyStartDates['2027'] },
    { year: 'OL', target: CONFIG.examDates['ol'], studyStart: CONFIG.studyStartDates['ol'] }
  ];
  
  batches.forEach(batch => {
    let diff = batch.target - now;
    if(diff < 0) diff = 0;
    
    const secs = Math.floor(diff/1000) % 60;
    const mins = Math.floor(diff/1000/60) % 60;
    const hrs = Math.floor(diff/1000/60/60) % 24;
    const days = Math.floor(diff/1000/60/60/24);
    
    const newValues = {
      [`days${batch.year}`]: String(days).padStart(2,'0'),
      [`hours${batch.year}`]: String(hrs).padStart(2,'0'),
      [`minutes${batch.year}`]: String(mins).padStart(2,'0'),
      [`seconds${batch.year}`]: String(secs).padStart(2,'0')
    };
    
    Object.keys(newValues).forEach(key => {
      const element = document.getElementById(key);
      if (element) {
        element.textContent = newValues[key];
      }
    });
    
    const daysPassed = Math.floor((now - batch.studyStart) / 86400000);
    const daysPassedElement = document.getElementById(`daysPassed${batch.year}`);
    if (daysPassedElement) {
      daysPassedElement.textContent = Math.max(0, daysPassed);
    }
  });
}

// Timetable System - FIXED VERSION
function showMyExamDates() {
  const selectedSubjects = [];
  document.querySelectorAll('.subject-checkbox input[type="checkbox"]:checked').forEach(cb => {
    selectedSubjects.push({
      value: cb.value,
      name: cb.dataset.name,
      color: CONFIG.subjectColors[cb.value] || '#7c3aed'
    });
  });

  if (selectedSubjects.length === 0) {
    showAlert('‚ö†Ô∏è', '‡∑Ä‡∑í‡∑Å‡∂∫‡∂±‡∑ä ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±', '‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∑Ä‡∑í‡∑Ç‡∂∫‡∂±‡∑ä ‡∂≠‡∑ù‡∂ª‡∑è‡∂ú‡∑ô‡∂± ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂ã‡∂≠‡∑ä‡∑É‡∑è‡∑Ñ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.');
    return;
  }

  if (selectedSubjects.length < 3) {
    showAlert('‚ö†Ô∏è', '‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∑Ä‡∑í‡∑Å‡∂∫‡∂±‡∑ä 3 ‡∑Ä‡∂≠‡∑ä ‡∂≠‡∑ù‡∂ª‡∂±‡∑ä‡∂±', '‡∂ö‡∂ª‡∑î‡∂´‡∑è‡∂ö‡∂ª ‡∂¥‡∑ä‚Äç‡∂ª‡∂∞‡∑è‡∂± ‡∑Ä‡∑í‡∑Ç‡∂∫‡∂±‡∑ä ‡∂Ö‡∑Ä‡∂∏ ‡∑Ä‡∑Å‡∂∫‡∑ô‡∂±‡∑ä 3‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∑è‡∂ú‡∑ô‡∂± ‡∂±‡∑ê‡∑Ä‡∂≠ ‡∂ã‡∂≠‡∑ä‡∑É‡∑è‡∑Ñ ‡∂ö‡∂ª‡∂±‡∑ä‡∂±.');
    return;
  }

  // Check timetable availability from config
  if (!CONFIG.timetableSettings.enabled) {
    showAlert('üìÖ', '‡∂ö‡∑è‡∂Ω‡∑É‡∂ß‡∑Ñ‡∂± ‡∂≠‡∑Ä‡∂∏ ‡∂±‡∑í‡∂ö‡∑î‡∂≠‡∑ä ‡∑Ä‡∑ì ‡∂±‡∑ú‡∂∏‡∑ê‡∂≠', 
      `‡∂î‡∂∂ ‡∑Ä‡∑í‡∑Ç‡∂∫‡∂±‡∑ä ${selectedSubjects.length}‡∂ö‡∑ä ‡∂≠‡∑ù‡∂ª‡∑è‡∂ú‡∑ô‡∂± ‡∂á‡∂≠:\n\n${selectedSubjects.map(s => s.name).join(', ')}\n\n${CONFIG.timetableSettings.message}\n\n‡∂ö‡∑è‡∂Ω‡∑É‡∂ß‡∑Ñ‡∂± ‡∂±‡∑í‡∂ö‡∑î‡∂≠‡∑ä ‡∑Ä‡∑ñ ‡∑Ä‡∑Ñ‡∑è‡∂∏ ‡∂î‡∂∂‡∂ß ‡∂Ø‡∑ê‡∂±‡∂ú‡∂≠ ‡∑Ñ‡∑ê‡∂ö‡∑í‡∂∫!`);
    return;
  }

  // Show timetable popup
  openTimetablePopup(selectedSubjects);
}

function openTimetablePopup(subjects) {
  const content = document.getElementById('timetableContent');
  
  // Create beautiful timetable layout
  let html = `
    <div class="timetable-header">
      <h4>üéØ A/L 2026 Exam Timetable</h4>
      <p>Your Personalized Schedule</p>
    </div>
    <div class="timetable-subjects">
  `;
  
  subjects.forEach((subject, index) => {
    html += `
      <div class="timetable-subject" style="border-left: 4px solid ${subject.color}">
        <div class="subject-name">${subject.name}</div>
        <div class="subject-date">üìÖ August 2026 ‚Ä¢ ‚è∞ 9:00 AM</div>
        <div class="subject-venue">üè´ Exam Center: To be announced</div>
      </div>
    `;
  });
  
  html += `
    </div>
    <div class="timetable-footer">
      <p>üìã This timetable will be updated when official dates are released</p>
    </div>
  `;
  
  content.innerHTML = html;
  document.getElementById('timetablePopup').classList.add('show');
  document.body.style.overflow = 'hidden';
}

function closeTimetablePopup() {
  document.getElementById('timetablePopup').classList.remove('show');
  document.body.style.overflow = '';
}

function copyTimetableToClipboard() {
  const subjects = Array.from(document.querySelectorAll('.subject-checkbox input[type="checkbox"]:checked'))
    .map(cb => cb.dataset.name);
  
  const timetableText = `üìÖ A/L 2026 Exam Timetable\n\n‡∑Ä‡∑í‡∑Ç‡∂∫‡∂±‡∑ä:\n${subjects.map(sub => `‚Ä¢ ${sub}`).join('\n')}\n\n‡∂ö‡∑è‡∂Ω‡∑É‡∂ß‡∑Ñ‡∂± ‡∂≠‡∑Ä‡∂∏ ‡∂±‡∑í‡∂ö‡∑î‡∂≠‡∑ä ‡∂ö‡∂ª ‡∂±‡∑ú‡∂∏‡∑ê‡∂≠. ‡∂±‡∑í‡∂Ω ‡∂ö‡∑è‡∂Ω‡∑É‡∂ß‡∑Ñ‡∂± ‡∂±‡∑í‡∂ö‡∑î‡∂≠‡∑ä ‡∑Ä‡∑ñ ‡∑Ä‡∑Ñ‡∑è‡∂∏ ‡∂∫‡∑è‡∑Ä‡∂≠‡∑ä‡∂ö‡∑è‡∂Ω‡∑ì‡∂± ‡∂ö‡∑ô‡∂ª‡∑ö.\n\nPowered by A/L Exam Countdown`;
  
  navigator.clipboard.writeText(timetableText).then(() => {
    showAlert('‚úÖ', 'Copied!', 'Timetable copied to clipboard! üìã\n\nYou can paste it anywhere to share your selected subjects.');
  }).catch(() => {
    showAlert('‚ùå', 'Copy Failed', 'Failed to copy to clipboard. Please try again.');
  });
}

// WhatsApp System with 3 Bots
function openWhatsAppBot(botType) {
  const bot = CONFIG.whatsappBots[botType];
  if (!bot) return;
  
  window.open(`https://wa.me/${bot.number}?text=${encodeURIComponent(bot.message)}`, '_blank');
}

// Initialize everything
document.querySelectorAll('.batch-btn').forEach(btn => {
  btn.addEventListener('click', () => switchBatch(btn.dataset.batch));
});

// Update time and countdown
function updateCurrentTime() {
  const now = new Date();
  document.getElementById('currentTime').textContent = now.toLocaleTimeString('en-US', {
    hour12: false, hour: '2-digit', minute: '2-digit'
  });
}

// Subject selection
function updateSelectedCount() {
  const count = document.querySelectorAll('.subject-checkbox input[type="checkbox"]:checked').length;
  document.getElementById('selectedCount').textContent = `${count} subject${count !== 1 ? 's' : ''} selected`;
}

function clearSelection() {
  document.querySelectorAll('.subject-checkbox input[type="checkbox"]').forEach(cb => cb.checked = false);
  updateSelectedCount();
}

document.addEventListener('change', function(e) {
  if (e.target.matches('.subject-checkbox input[type="checkbox"]')) {
    updateSelectedCount();
  }
});

// Start intervals
setInterval(updateCountdown, 1000);
setInterval(updateCurrentTime, 1000);
setInterval(getDailyQuote, 3600000);

// Initial setup
updateSelectedCount();
updateCountdown();
updateCurrentTime();
getDailyQuote();

console.log('üöÄ A/L & O/L Exam Countdown - Fully Restored! ‚úÖ');
</script>
</body>
</html>

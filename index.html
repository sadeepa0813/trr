
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="google-site-verification" content="WlaDrx8RonvdwEu2oOOE_kdvvXQNXd70wH8Ej5HoSYo" />
  <title>A/L & O/L Exam Countdown</title>
  <link rel="icon" href="https://i.ibb.co/jZJK1jqK/exam-bot-dp2.png" type="image/png" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <style>
    :root{
      --bg:#0f1724; 
      --card:#0b1220; 
      --accent:#7c3aed; 
      --secondary:#10b981;
      --glass: rgba(255,255,255,0.04);
      --success: #22c55e;
      --accent2026: #ce13c4;
      --secondary2026: #f54df5;
      --accent2027: #8b5cf6;
      --secondary2027: #06b6d4;
      --accent-ol: #22c55e;
      --secondary-ol: #10b981;
      --whatsapp: #25D366;
      --muted: #94a3b8;
    }
    * {
      box-sizing:border-box;
      font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial;
      margin:0;
      padding:0;
    }
    body {
      min-height:100vh;
      background:linear-gradient(135deg,#071029 0%, #0f172a 50%, #1e293b 100%);
      color:#e6eef8;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:16px;
      animation: bgShift 30s ease-in-out infinite alternate;
    }
    @keyframes bgShift {
      0% { background:linear-gradient(135deg,#071029 0%, #0f172a 50%, #1e293b 100%); }
      100% { background:linear-gradient(135deg,#1e293b 0%, #0f172a 50%, #071029 100%); }
    }
    .wrap {
      width:100%;
      max-width:400px;
      animation: fadeInUp 0.8s ease-out;
    }
    @keyframes fadeInUp {
      from { opacity:0; transform:translateY(20px); }
      to { opacity:1; transform:translateY(0); }
    }
    .card {
      background:linear-gradient(135deg,var(--card), rgba(11,18,32,0.8));
      border-radius:16px;
      padding:20px;
      box-shadow:0 20px 40px rgba(2,6,23,0.8), inset 0 1px 0 rgba(255,255,255,0.1);
      backdrop-filter:blur(10px);
      border:1px solid rgba(255,255,255,0.05);
      margin-bottom:12px;
    }
    .card-2026 {
      background:linear-gradient(135deg,rgba(220,38,38,0.1), rgba(11,18,32,0.8));
      border:1px solid rgba(220,38,38,0.2);
    }
    .card-2027 {
      background:linear-gradient(135deg,rgba(139,92,246,0.1), rgba(11,18,32,0.8));
      border:1px solid rgba(139,92,246,0.2);
    }
    .card-ol {
      background:linear-gradient(135deg,rgba(34,197,94,0.1), rgba(11,18,32,0.8));
      border:1px solid rgba(34,197,94,0.2);
    }
    header {
      text-align:center;
      margin-bottom:16px;
    }
    .logo {
      width:60px;
      height:60px;
      border-radius:16px;
      background: linear-gradient(135deg,var(--accent2026),#dc2626);
      display:flex;
      align-items:center;
      justify-content:center;
      margin:0 auto 12px;
      box-shadow:0 8px 25px rgba(220,38,38,0.3);
      animation: pulse 3s ease-in-out infinite;
      font-size:20px;
      font-weight:800;
      color:white;
    }
    .logo-2027 {
      background: linear-gradient(135deg,var(--accent2027),#8b5cf6);
      box-shadow:0 8px 25px rgba(139,92,246,0.3);
    }
    .logo-ol {
      background: linear-gradient(135deg,var(--accent-ol),#22c55e);
      box-shadow:0 8px 25px rgba(34,197,94,0.3);
    }
    @keyframes pulse {
      0%, 100% { transform:scale(1); }
      50% { transform:scale(1.05); }
    }
    h1 {
      margin:0 0 6px;
      font-size:16px;
      font-weight:700;
      background:linear-gradient(135deg,#e6eef8,#cbd5e1);
      background-clip:text;
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .lead {
      margin:0 0 16px;
      color:var(--muted);
      font-size:11px;
    }
    .batch-selector {
      display:grid;
      grid-template-columns:repeat(3,1fr);
      gap:4px;
      margin-bottom:16px;
      background:var(--glass);
      padding:4px;
      border-radius:10px;
      border:1px solid rgba(255,255,255,0.05);
    }
    .batch-btn {
      padding:6px 10px;
      border:0;
      border-radius:6px;
      background:transparent;
      color:var(--muted);
      font-weight:600;
      font-size:10px;
      cursor:pointer;
      transition:all 0.3s ease;
    }
    .batch-btn.active {
      background:linear-gradient(135deg,var(--accent2026),#dc2626);
      color:white;
    }
    .batch-btn-2027.active {
      background:linear-gradient(135deg,var(--accent2027),#8b5cf6);
    }
    .batch-btn-ol.active {
      background:linear-gradient(135deg,var(--accent-ol),#22c55e);
    }
    .status-bar {
      display:flex;
      justify-content:space-between;
      align-items:center;
      background:var(--glass);
      padding:8px 12px;
      border-radius:8px;
      margin-bottom:16px;
      border:1px solid rgba(255,255,255,0.05);
    }
    .countdown-status {
      font-size:11px;
      color:var(--secondary2026);
      display:flex;
      align-items:center;
      gap:4px;
    }
    .countdown-status-2027 {
      color:var(--secondary2027);
    }
    .countdown-status-ol {
      color:var(--secondary-ol);
    }
    .status-dot {
      width:6px;
      height:6px;
      border-radius:50%;
      background:var(--secondary2026);
      animation: blink 2s infinite;
    }
    .status-dot-2027 {
      background:var(--secondary2027);
    }
    .status-dot-ol {
      background:var(--secondary-ol);
    }
    @keyframes blink {
      0%, 100% { opacity:1; }
      50% { opacity:0.3; }
    }
    .countdown {
      display:grid;
      grid-template-columns:repeat(2,1fr);
      gap:8px;
      margin-bottom:16px;
    }
    .tile {
      background:var(--glass);
      padding:16px 12px;
      border-radius:12px;
      text-align:center;
      border:1px solid rgba(255,255,255,0.05);
      transition:all 0.3s ease;
      position:relative;
      overflow:hidden;
    }
    .tile::before {
      content:'';
      position:absolute;
      top:0;
      left:-100%;
      width:100%;
      height:100%;
      background:linear-gradient(90deg,transparent,rgba(220,38,38,0.1),transparent);
      transition:left 2s;
    }
    .tile-2027::before {
      background:linear-gradient(90deg,transparent,rgba(139,92,246,0.1),transparent);
    }
    .tile-ol::before {
      background:linear-gradient(90deg,transparent,rgba(34,197,94,0.1),transparent);
    }
    .tile-animate::before {
      left:100%;
    }
    .tile .num {
      font-size:24px;
      font-weight:800;
      background:linear-gradient(135deg,var(--accent2026),#dc2626);
      background-clip:text;
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
      line-height:1;
    }
    .tile-2027 .num {
      background:linear-gradient(135deg,var(--accent2027),#8b5cf6);
      background-clip:text;
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .tile-ol .num {
      background:linear-gradient(135deg,var(--accent-ol),#22c55e);
      background-clip:text;
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .tile .lbl {
      font-size:10px;
      color:var(--muted);
      margin-top:4px;
      font-weight:500;
      text-transform:uppercase;
      letter-spacing:0.5px;
    }
    .quote-section {
      background:linear-gradient(135deg,rgba(220,38,38,0.1),rgba(249,115,22,0.1));
      border-radius:12px;
      padding:14px;
      margin-bottom:16px;
      border:1px solid rgba(220,38,38,0.2);
      text-align:center;
    }
    .quote-section-2027 {
      background:linear-gradient(135deg,rgba(139,92,246,0.1),rgba(6,182,212,0.1));
      border:1px solid rgba(139,92,246,0.2);
    }
    .quote-section-ol {
      background:linear-gradient(135deg,rgba(34,197,94,0.1),rgba(16,185,129,0.1));
      border:1px solid rgba(34,197,94,0.2);
    }
    .quote-text {
      font-size:12px;
      line-height:1.4;
      margin-bottom:8px;
      color:#e6eef8;
      font-weight:500;
    }
    .quote-number {
      font-size:9px;
      color:var(--secondary2026);
      font-weight:600;
    }
    .quote-number-2027 {
      color:var(--secondary2027);
    }
    .quote-number-ol {
      color:var(--secondary-ol);
    }
    .progress-section {
      margin-bottom:12px;
    }
    .progress-item {
      display:flex;
      justify-content:space-between;
      align-items:center;
      background:var(--glass);
      padding:10px;
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.05);
    }
    .progress-info {
      flex:1;
    }
    .progress-title {
      font-weight:600;
      margin-bottom:2px;
      font-size:11px;
    }
    .progress-subtitle {
      font-size:9px;
      color:var(--muted);
    }
    .progress-value {
      font-weight:700;
      font-size:14px;
      background:linear-gradient(135deg,var(--accent2026),#dc2626);
      background-clip:text;
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .progress-value-2027 {
      background:linear-gradient(135deg,var(--accent2027),#8b5cf6);
      background-clip:text;
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .progress-value-ol {
      background:linear-gradient(135deg,var(--accent-ol),#22c55e);
      background-clip:text;
      -webkit-background-clip:text;
      -webkit-text-fill-color:transparent;
    }
    .countdown-section {
      display:block;
    }
    .countdown-section.hidden {
      display:none;
    }
    .hidden {
      display: none !important;
    }
    .footer {
      text-align:center;
      padding:8px;
      background:var(--glass);
      border-radius:8px;
      border:1px solid rgba(255,255,255,0.05);
      margin-top:12px;
    }
    .footer-text {
      font-size:9px;
      color:var(--muted);
    }
    .footer-brand {
      color:var(--secondary);
      font-weight:600;
    }
    .subjects-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }
    .subject-category {
      background: rgba(255,255,255,0.02);
      border-radius: 8px;
      padding: 12px;
      border: 1px solid rgba(255,255,255,0.05);
    }
    .category-title {
      font-size: 11px;
      font-weight: 700;
      color: var(--accent2026);
      margin: 0 0 8px 0;
      text-align: center;
    }
    .subjects-list {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }
    .subject-checkbox {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 4px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 10px;
      color: #e6eef8;
      transition: all 0.3s ease;
    }
    .subject-checkbox:hover {
      background: rgba(220,38,38,0.1);
    }
    .subject-checkbox input[type="checkbox"] {
      display: none;
    }
    .checkmark {
      width: 16px;
      height: 16px;
      border: 2px solid var(--muted);
      border-radius: 3px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      flex-shrink: 0;
    }
    .subject-checkbox input[type="checkbox"]:checked + .checkmark {
      background: var(--accent2026);
      border-color: var(--accent2026);
    }
    .subject-checkbox input[type="checkbox"]:checked + .checkmark:after {
      content: "✓";
      color: white;
      font-size: 10px;
      font-weight: bold;
    }
    .selection-actions {
      display: flex;
      gap: 8px;
      justify-content: center;
      margin-bottom: 12px;
    }
    .submit-btn, .clear-btn {
      padding: 8px 16px;
      border: none;
      border-radius: 6px;
      font-size: 11px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .submit-btn {
      background: linear-gradient(135deg, var(--accent2026), #dc2626);
      color: white;
    }
    .submit-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(220,38,38,0.3);
    }
    .clear-btn {
      background: rgba(239,68,68,0.1);
      color: #ef4444;
      border: 1px solid rgba(239,68,68,0.3);
    }
    .clear-btn:hover {
      background: rgba(239,68,68,0.2);
    }
    .selected-count {
      text-align: center;
      font-size: 10px;
      color: var(--muted);
      margin-bottom: 12px;
    }
    .complaint-section {
      margin-top: 16px;
      padding-top: 12px;
      border-top: 1px solid rgba(255,255,255,0.1);
      text-align: center;
    }
    .complaint-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
      margin-bottom: 8px;
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    .complaint-btn:hover {
      background: linear-gradient(135deg, #d97706, #b45309);
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(245,158,11,0.3);
    }
    .complaint-text {
      font-size: 10px;
      color: var(--muted);
      margin: 0;
      line-height: 1.4;
    }
    .popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.8);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    .popup-overlay.show {
      opacity: 1;
      visibility: visible;
    }
    .popup-modal {
      background: linear-gradient(135deg, rgba(11,18,32,0.95), rgba(15,23,36,0.95));
      border-radius: 16px;
      padding: 20px;
      max-width: 500px;
      width: 90%;
      max-height: 80vh;
      margin: 20px;
      border: 2px solid rgba(220,38,38,0.3);
      box-shadow: 0 30px 60px rgba(220,38,38,0.2);
      transform: scale(0.8) translateY(30px);
      transition: all 0.3s ease;
      overflow: hidden;
      display: flex;
      flex-direction: column;
    }
    .popup-overlay.show .popup-modal {
      transform: scale(1) translateY(0);
    }
    .popup-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 16px;
      padding-bottom: 12px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .popup-title {
      font-size: 16px;
      font-weight: 700;
      color: var(--accent2026);
      margin: 0;
    }
    .close-popup {
      background: none;
      border: none;
      color: var(--muted);
      font-size: 18px;
      cursor: pointer;
      padding: 4px;
      border-radius: 4px;
      transition: all 0.3s ease;
    }
    .close-popup:hover {
      background: rgba(255,255,255,0.1);
      color: #ef4444;
    }
    .popup-content {
      flex: 1;
      overflow-y: auto;
      margin-bottom: 16px;
    }
    .alert-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(5px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10001;
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
    }
    .alert-overlay.show {
      opacity: 1;
      visibility: visible;
    }
    .alert-modal {
      background: linear-gradient(135deg, rgba(11,18,32,0.95), rgba(15,23,36,0.95));
      border-radius: 16px;
      padding: 24px;
      max-width: 350px;
      width: 90%;
      margin: 20px;
      border: 2px solid rgba(220,38,38,0.3);
      box-shadow: 0 30px 60px rgba(220,38,38,0.2);
      transform: scale(0.8) translateY(30px);
      transition: all 0.3s ease;
      text-align: center;
    }
    .alert-overlay.show .alert-modal {
      transform: scale(1) translateY(0);
    }
    .alert-icon {
      font-size: 48px;
      margin-bottom: 16px;
      display: block;
    }
    .alert-title {
      font-size: 18px;
      font-weight: 700;
      color: #e6eef8;
      margin: 0 0 12px 0;
    }
    .alert-message {
      font-size: 14px;
      color: var(--muted);
      line-height: 1.5;
      margin-bottom: 20px;
      white-space: pre-line;
    }
    .alert-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
    }
    .alert-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .alert-btn.primary {
      background: linear-gradient(135deg, var(--accent2026), #dc2626);
      color: white;
    }
    .alert-btn.primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(220,38,38,0.3);
    }
    .whatsapp-section {
      background: linear-gradient(135deg, rgba(37,211,102,0.1), rgba(37,211,102,0.05));
      border-radius: 16px;
      padding: 20px;
      border: 1px solid rgba(37,211,102,0.2);
      text-align: center;
    }
    .wa-buttons {
      display: flex;
      gap: 12px;
      margin-bottom: 16px;
      flex-direction: column;
    }
    .wa-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 12px;
      padding: 14px 20px;
      border-radius: 12px;
      color: white;
      font-weight: 700;
      border: 0;
      cursor: pointer;
      font-size: 14px;
      text-decoration: none;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    .wa-btn::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 0;
      height: 0;
      border-radius: 50%;
      background: rgba(255,255,255,0.2);
      transition: all 0.3s ease;
      transform: translate(-50%,-50%);
    }
    .wa-btn:hover::before {
      width: 200px;
      height: 200px;
    }
    .wa-btn-chat {
      background: linear-gradient(135deg, var(--whatsapp), #22c55e);
      box-shadow: 0 4px 15px rgba(37,211,102,0.3);
    }
    .wa-btn-chat:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(37,211,102,0.4);
    }
    .wa-icon {
      width: 20px;
      height: 20px;
      fill: currentColor;
      position: relative;
      z-index: 1;
    }
    .btn-text {
      position: relative;
      z-index: 1;
    }
    .description {
      font-size: 13px;
      color: var(--muted);
      line-height: 1.5;
    }
    .floating-contact-btn {
      position: fixed;
      bottom: 24px;
      right: 24px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent2026), #dc2626);
      color: white;
      border: none;
      font-size: 20px;
      box-shadow: 0 6px 20px rgba(220, 38, 38, 0.4);
      cursor: pointer;
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s ease;
      animation: float 3s ease-in-out infinite;
    }
    .floating-contact-btn:hover {
      transform: scale(1.1) rotate(10deg);
      box-shadow: 0 8px 25px rgba(220, 38, 38, 0.6);
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-8px); }
    }
    #contactPopup {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0,0,0,0.8);
      backdrop-filter: blur(10px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: all 0.4s ease;
    }
    #contactPopup.show {
      opacity: 1;
      visibility: visible;
    }
    .contact-modal {
      background: linear-gradient(135deg, rgba(11,18,32,0.95), rgba(15,23,36,0.95));
      border-radius: 16px;
      padding: 24px;
      max-width: 480px;
      width: 90%;
      max-height: 85vh;
      margin: 20px;
      border: 2px solid rgba(220,38,38,0.3);
      box-shadow: 0 30px 60px rgba(220,38,38,0.2);
      transform: scale(0.9) translateY(20px);
      opacity: 0;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      overflow-y: auto;
      position: relative;
    }
    #contactPopup.show .contact-modal {
      transform: scale(1) translateY(0);
      opacity: 1;
    }
    .contact-header {
      text-align: center;
      margin-bottom: 20px;
    }
    .contact-header .logo {
      width: 60px;
      height: 60px;
      border-radius: 12px;
      background: linear-gradient(135deg, var(--accent2026), #dc2626);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 12px;
      font-size: 24px;
      color: white;
    }
    .contact-header h2 {
      font-size: 22px;
      font-weight: 700;
      margin: 0;
      background: linear-gradient(135deg, #e6eef8, #cbd5e1);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    .contact-header p {
      font-size: 13px;
      color: var(--muted);
      margin-top: 4px;
    }
    .form-group {
      margin-bottom: 16px;
    }
    label {
      display: block;
      font-weight: 600;
      font-size: 13px;
      margin-bottom: 6px;
      color: #e6eef8;
    }
    input, textarea {
      width: 100%;
      padding: 12px 16px;
      background: var(--glass);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 10px;
      color: #e6eef8;
      font-size: 14px;
      transition: all 0.3s ease;
    }
    input:focus, textarea:focus {
      outline: none;
      border-color: var(--accent2026);
      background: rgba(220,38,38,0.05);
      box-shadow: 0 0 0 3px rgba(220,38,38,0.1);
    }
    textarea {
      resize: vertical;
      min-height: 100px;
    }
    .status-message {
      margin-top: 16px;
      padding: 12px;
      border-radius: 8px;
      font-size: 13px;
      text-align: center;
      opacity: 0;
      transform: translateY(10px);
      transition: all 0.3s ease;
    }
    .status-message.show {
      opacity: 1;
      transform: translateY(0);
    }
    .status-message.success {
      background: rgba(34,197,94,0.1);
      border: 1px solid rgba(34,197,94,0.3);
      color: var(--success);
    }
    .status-message.error {
      background: rgba(239,68,68,0.1);
      border: 1px solid rgba(239,68,68,0.3);
      color: #ef4444;
    }

    /* Timetable Styles */
    .timetable-header {
      text-align: center;
      margin-bottom: 20px;
      padding-bottom: 16px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .timetable-header h4 {
      font-size: 18px;
      color: var(--accent2026);
      margin: 0 0 8px 0;
    }
    .timetable-header p {
      color: var(--muted);
      font-size: 12px;
      margin: 0;
    }
    .timetable-subjects {
      display: flex;
      flex-direction: column;
      gap: 12px;
      margin-bottom: 20px;
    }
    .timetable-subject {
      background: var(--glass);
      padding: 16px;
      border-radius: 8px;
      border: 1px solid rgba(255,255,255,0.05);
    }
    .subject-name {
      font-weight: 600;
      font-size: 14px;
      color: #e6eef8;
      margin-bottom: 4px;
    }
    .subject-date {
      font-size: 12px;
      color: var(--muted);
      margin-bottom: 2px;
    }
    .subject-venue {
      font-size: 11px;
      color: var(--muted);
    }
    .timetable-footer {
      text-align: center;
      padding: 12px;
      background: rgba(220,38,38,0.1);
      border-radius: 8px;
      border: 1px solid rgba(220,38,38,0.2);
    }
    .timetable-footer p {
      font-size: 11px;
      color: var(--muted);
      margin: 0;
    }
    .popup-actions {
      display: flex;
      gap: 12px;
      justify-content: center;
    }
    .timetable-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
    }
    .timetable-btn.primary {
      background: linear-gradient(135deg, var(--accent2026), #dc2626);
      color: white;
    }
    .timetable-btn.primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(220,38,38,0.3);
    }
    .timetable-btn.secondary {
      background: rgba(255,255,255,0.1);
      color: var(--muted);
      border: 1px solid rgba(255,255,255,0.2);
    }
    .timetable-btn.secondary:hover {
      background: rgba(255,255,255,0.2);
      color: #e6eef8;
    }

    @media (max-width: 480px) {
      .floating-contact-btn {
        bottom: 16px;
        right: 16px;
        width: 50px;
        height: 50px;
        font-size: 18px;
      }
      .contact-modal {
        padding: 20px;
        margin: 10px;
      }
      .batch-selector {
        grid-template-columns: 1fr;
      }
      .subjects-grid {
        grid-template-columns: 1fr;
      }
      .popup-actions {
        flex-direction: column;
      }
    }
  </style>
</head>
<body>
<div class="wrap">
  <!-- Header Section -->
  <div class="card">
    <header>
      <div class="logo" id="mainLogo">
        <img src="https://i.ibb.co/jZJK1jqK/exam-bot-dp2.png" alt="Exam Icon" style="width: 60%; height: 60%; object-fit: contain;">
      </div>
      <h1>A/L & O/L Exam Countdown</h1>
      <p class="lead">Advanced Level & Ordinary Level Exam Countdown</p>
    </header>
    <div class="batch-selector">
      <button class="batch-btn active" data-batch="2026">🎯 2026 A/L</button>
      <button class="batch-btn batch-btn-2027" data-batch="2027">🎓 2027 A/L</button>
      <button class="batch-btn batch-btn-ol" data-batch="ol">📖 2026 O/L</button>
    </div>
  </div>
  
  <!-- 2026 A/L Section -->
  <div id="section2026" class="countdown-section">
    <div class="card card-2026">
      <div class="status-bar">
        <div class="countdown-status">
          <div class="status-dot"></div>
          August 2026 Batch
        </div>
        <div style="font-size:10px;color:var(--muted);">
          <span id="lastUpdate2026">Live</span>
        </div>
      </div>
      <div id="countdown2026" class="countdown">
        <div class="tile" id="daysTile2026">
          <div class="num" id="days2026">--</div>
          <div class="lbl">Days</div>
        </div>
        <div class="tile" id="hoursTile2026">
          <div class="num" id="hours2026">--</div>
          <div class="lbl">Hours</div>
        </div>
        <div class="tile" id="minutesTile2026">
          <div class="num" id="minutes2026">--</div>
          <div class="lbl">Minutes</div>
        </div>
        <div class="tile" id="secondsTile2026">
          <div class="num" id="seconds2026">--</div>
          <div class="lbl">Seconds</div>
        </div>
      </div>
      <div class="quote-section">
        <div class="quote-text" id="dailyQuote2026">Loading inspirational quote...</div>
        <div class="quote-number" id="quoteNumber2026"></div>
      </div>
      <div class="progress-section">
        <div class="progress-item">
          <div class="progress-info">
            <div class="progress-title">Days Passed</div>
            <div class="progress-subtitle">Since A/L 2026 preparation</div>
          </div>
          <div class="progress-value" id="daysPassed2026">0</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- 2027 A/L Section -->
  <div id="section2027" class="countdown-section hidden">
    <div class="card card-2027">
      <div class="status-bar">
        <div class="countdown-status countdown-status-2027">
          <div class="status-dot status-dot-2027"></div>
          August 2027 Batch
        </div>
        <div style="font-size:10px;color:var(--muted);">
          <span id="lastUpdate2027">Live</span>
        </div>
      </div>
      <div id="countdown2027" class="countdown">
        <div class="tile tile-2027" id="daysTile2027">
          <div class="num" id="days2027">--</div>
          <div class="lbl">Days</div>
        </div>
        <div class="tile tile-2027" id="hoursTile2027">
          <div class="num" id="hours2027">--</div>
          <div class="lbl">Hours</div>
        </div>
        <div class="tile tile-2027" id="minutesTile2027">
          <div class="num" id="minutes2027">--</div>
          <div class="lbl">Minutes</div>
        </div>
        <div class="tile tile-2027" id="secondsTile2027">
          <div class="num" id="seconds2027">--</div>
          <div class="lbl">Seconds</div>
        </div>
      </div>
      <div class="quote-section quote-section-2027">
        <div class="quote-text" id="dailyQuote2027">Loading inspirational quote...</div>
        <div class="quote-number quote-number-2027" id="quoteNumber2027"></div>
      </div>
      <div class="progress-section">
        <div class="progress-item">
          <div class="progress-info">
            <div class="progress-title">Days Passed</div>
            <div class="progress-subtitle">Since A/L 2027 preparation</div>
          </div>
          <div class="progress-value progress-value-2027" id="daysPassed2027">0</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- O/L Section -->
  <div id="sectionOL" class="countdown-section hidden">
    <div class="card card-ol">
      <div class="status-bar">
        <div class="countdown-status countdown-status-ol">
          <div class="status-dot status-dot-ol"></div>
          December 2026 O/L Batch
        </div>
        <div style="font-size:10px;color:var(--muted);">
          <span id="lastUpdateOL">Live</span>
        </div>
      </div>
      <div id="countdownOL" class="countdown">
        <div class="tile tile-ol" id="daysTileOL">
          <div class="num" id="daysOL">--</div>
          <div class="lbl">Days</div>
        </div>
        <div class="tile tile-ol" id="hoursTileOL">
          <div class="num" id="hoursOL">--</div>
          <div class="lbl">Hours</div>
        </div>
        <div class="tile tile-ol" id="minutesTileOL">
          <div class="num" id="minutesOL">--</div>
          <div class="lbl">Minutes</div>
        </div>
        <div class="tile tile-ol" id="secondsTileOL">
          <div class="num" id="secondsOL">--</div>
          <div class="lbl">Seconds</div>
        </div>
      </div>
      <div class="quote-section quote-section-ol">
        <div class="quote-text" id="dailyQuoteOL">Loading inspirational quote...</div>
        <div class="quote-number quote-number-ol" id="quoteNumberOL"></div>
      </div>
      <div class="progress-section">
        <div class="progress-item">
          <div class="progress-info">
            <div class="progress-title">Days Passed</div>
            <div class="progress-subtitle">Since O/L 2026 preparation</div>
          </div>
          <div class="progress-value progress-value-ol" id="daysPassedOL">0</div>
        </div>
      </div>
    </div>
  </div>
  
  <!-- Subject Selection - සියලුම බැච් සඳහා -->
  <div id="subjectSelectionCard" class="card">
    <div style="text-align: center; margin-bottom: 16px;">
      <h3 style="font-size: 16px; color: var(--accent2026); margin: 0 0 8px;" id="selectionTitle">A/L 2026 Subject Selection</h3>
      <p style="font-size: 11px; color: var(--muted); margin: 0;" id="selectionSubtitle">කාල සටහනට ඔනි විශයන් ටික දලා සිලෙක්ට් කරගන්න</p>
    </div>
    <div class="subjects-grid" id="subjectsGrid">
      <!-- Subjects will be loaded dynamically based on batch -->
    </div>
    <div class="selected-count" id="selectedCount">0 subjects selected</div>
    <div class="selection-actions">
      <button class="submit-btn" onclick="showMyExamDates()">Show My Exam Dates</button>
      <button class="clear-btn" onclick="clearSelection()">Clear All</button>
    </div>
    <div class="complaint-section">
      <button class="complaint-btn" onclick="openComplaintWhatsApp()">📝 Report Complain</button>
      <p class="complaint-text">ඔයාගේ විශයක් නැතිනම් හෝ වේලාව වෙනස් නම් හෝ කම්ප්ලේන් එකක් දාන්න<br>
      අලුත් වෙන්න ඔනි දෙවල් ඔනිම දෙයක් කියන්න </p>
    </div>
  </div>
  
  <!-- WhatsApp Section with 3 Buttons -->
  <div class="card whatsapp-section">
    <div class="wa-buttons">
      <button class="wa-btn wa-btn-chat" onclick="openWhatsAppBot('bot1')">
        <svg class="wa-icon" viewBox="0 0 24 24">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.150-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.040 1.016-1.040 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.200 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.360.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
        </svg>
        <span class="btn-text">🤖 A/L Countdown Bot</span>
      </button>
      
      <button class="wa-btn wa-btn-chat" onclick="openWhatsAppBot('bot2')" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
        <svg class="wa-icon" viewBox="0 0 24 24">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.150-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.040 1.016-1.040 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.200 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.360.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
        </svg>
        <span class="btn-text">📝 Report Complaint</span>
      </button>
      
      <button class="wa-btn wa-btn-chat" onclick="openWhatsAppBot('bot3')" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">
        <svg class="wa-icon" viewBox="0 0 24 24">
          <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.150-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.040 1.016-1.040 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.200 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.360.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
        </svg>
        <span class="btn-text">🆘 Help & Support</span>
      </button>
    </div>
  </div>
  
  <!-- Alert Popup -->
  <div id="alertPopup" class="alert-overlay">
    <div class="alert-modal">
      <div class="alert-icon" id="alertIcon">⏰</div>
      <h3 class="alert-title" id="alertTitle">Message</h3>
      <p class="alert-message" id="alertMessage">This is a message</p>
      <div class="alert-actions">
        <button class="alert-btn primary" onclick="closeAlert()">OK</button>
      </div>
    </div>
  </div>
  
  <!-- Footer -->
  <div class="footer">
    <div class="footer-text">
      Powered by <span class="footer-brand">Sadeepa & Shamika</span> • 
      <span id="currentTime"></span>
    </div>
  </div>
</div>

<!-- Floating Contact Button -->
<button id="contactBtn" class="floating-contact-btn">📧</button>

<!-- Contact Popup -->
<div id="contactPopup" class="popup-overlay">
  <div class="contact-modal">
    <button class="close-popup" onclick="closeContactPopup()">×</button>
    <div class="contact-header">
      <div class="logo">📧</div>
      <h2>Get In Touch</h2>
      <p>We'd love to hear from you</p>
    </div>
    <form id="contactForm">
      <input type="hidden" name="access_key" value="fd9a9424-521d-4b92-951d-bd41f19f7898">
      <div class="form-group">
        <label for="name">Full Name *</label>
        <input type="text" id="name" name="name" required placeholder="sadeepa">
      </div>
      <div class="form-group">
        <label for="email">Email Address *</label>
        <input type="email" id="email" name="email" required placeholder="sadeepa@example.com">
      </div>
      <div class="form-group">
        <label for="subject">Subject *</label>
        <input type="text" id="subject" name="subject" required placeholder="How can we help?">
      </div>
      <div class="form-group">
        <label for="message">Message *</label>
        <textarea id="message" name="message" required placeholder="Tell us more..."></textarea>
      </div>
      <button type="submit" class="submit-btn" id="submitBtn">Send Message</button>
    </form>
    <div id="statusMessage" class="status-message"></div>
  </div>
</div>

<!-- Timetable Popup -->
<div id="timetablePopup" class="popup-overlay">
  <div class="popup-modal">
    <div class="popup-header">
      <h3 class="popup-title" id="timetableTitle">📅 Your Exam Timetable</h3>
      <button class="close-popup" onclick="closeTimetablePopup()">×</button>
    </div>
    <div class="popup-content">
      <div id="timetableContent">
        <!-- Timetable content will be generated here -->
      </div>
    </div>
    <div class="popup-actions">
      <button class="timetable-btn primary" onclick="copyTimetableToClipboard()">
        📋 Copy Timetable
      </button>
      <button class="timetable-btn secondary" onclick="closeTimetablePopup()">
        Close
      </button>
    </div>
  </div>
</div>

<script src="config.js"></script>
<script>
// Main JavaScript Code
// ====================

// Security measures
document.addEventListener('keydown', function(e) {
  if (e.key === 'F12') e.preventDefault();
  if (e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'C')) e.preventDefault();
  if (e.ctrlKey && e.key === 'u') e.preventDefault();
});

document.addEventListener('contextmenu', function(e) {
  e.preventDefault();
});

// Core functionality
let currentBatch = '2026';

// Alert System
function showAlert(icon, title, message) {
  document.getElementById('alertIcon').textContent = icon;
  document.getElementById('alertTitle').textContent = title;
  document.getElementById('alertMessage').textContent = message;
  document.getElementById('alertPopup').classList.add('show');
  document.body.style.overflow = 'hidden';
}

function closeAlert() {
  document.getElementById('alertPopup').classList.remove('show');
  document.body.style.overflow = '';
}

// Batch Switching with Dynamic Subject Loading
function switchBatch(batch) {
  currentBatch = batch;
  document.querySelectorAll('.batch-btn').forEach(btn => btn.classList.remove('active'));
  document.querySelector(`[data-batch="${batch}"]`).classList.add('active');
  
  document.getElementById('section2026').classList.toggle('hidden', batch !== '2026');
  document.getElementById('section2027').classList.toggle('hidden', batch !== '2027');
  document.getElementById('sectionOL').classList.toggle('hidden', batch !== 'ol');
  
  // Update subject selection title and load appropriate subjects
  updateSubjectSelectionForBatch(batch);
  
  const mainLogo = document.getElementById('mainLogo');
  mainLogo.className = 'logo';
  if(batch === '2027') {
    mainLogo.classList.add('logo-2027');
  } else if(batch === 'ol') {
    mainLogo.classList.add('logo-ol');
  }
  
  updateCountdown();
  getDailyQuote();
}

// Dynamic Subject Loading for Different Batches
function updateSubjectSelectionForBatch(batch) {
  const titleElement = document.getElementById('selectionTitle');
  const subtitleElement = document.getElementById('selectionSubtitle');
  const gridElement = document.getElementById('subjectsGrid');
  
  if (batch === '2026') {
    titleElement.textContent = 'A/L 2026 Subject Selection';
    subtitleElement.textContent = 'කාල සටහනට ඔනි විශයන් ටික දලා සිලෙක්ට් කරගන්න';
    loadALSubjects(gridElement);
  } else if (batch === '2027') {
    titleElement.textContent = 'A/L 2027 Subject Selection';
    subtitleElement.textContent = 'කාල සටහනට ඔනි විශයන් ටික දලා සිලෙක්ට් කරගන්න';
    loadALSubjects(gridElement);
  } else if (batch === 'ol') {
    titleElement.textContent = 'O/L 2026 Subject Selection';
    subtitleElement.textContent = 'කාල සටහනට ඔනි විශයන් ටික දලා සිලෙක්ට් කරගන්න';
    loadOLSubjects(gridElement);
  }
  
  updateSelectedCount();
}

function loadALSubjects(container) {
  container.innerHTML = `
    <div class="subject-category">
      <h4 class="category-title">Mathematics</h4>
      <div class="subjects-list">
        <label class="subject-checkbox">
          <input type="checkbox" value="combined-math" data-name="Combined Mathematics">
          <span class="checkmark"></span>
          <span>Combined Mathematics</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="higher-math" data-name="Higher Mathematics">
          <span class="checkmark"></span>
          <span>Higher Mathematics</span>
        </label>
      </div>
    </div>
    <div class="subject-category">
      <h4 class="category-title">Science</h4>
      <div class="subjects-list">
        <label class="subject-checkbox">
          <input type="checkbox" value="chemistry" data-name="Chemistry">
          <span class="checkmark"></span>
          <span>Chemistry</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="physics" data-name="Physics">
          <span class="checkmark"></span>
          <span>Physics</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="biology" data-name="Biology">
          <span class="checkmark"></span>
          <span>Biology</span>
        </label>
      </div>
    </div>
    <div class="subject-category">
      <h4 class="category-title">Commerce</h4>
      <div class="subjects-list">
        <label class="subject-checkbox">
          <input type="checkbox" value="business" data-name="Business Studies">
          <span class="checkmark"></span>
          <span>Business Studies</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="economics" data-name="Economics">
          <span class="checkmark"></span>
          <span>Economics</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="accounting" data-name="Accounting">
          <span class="checkmark"></span>
          <span>Accounting</span>
        </label>
      </div>
    </div>
    <div class="subject-category">
      <h4 class="category-title">Arts</h4>
      <div class="subjects-list">
        <label class="subject-checkbox">
          <input type="checkbox" value="sinhala" data-name="Sinhala">
          <span class="checkmark"></span>
          <span>Sinhala</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="geography" data-name="Geography">
          <span class="checkmark"></span>
          <span>Geography</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="history" data-name="History">
          <span class="checkmark"></span>
          <span>History</span>
        </label>
      </div>
    </div>
    <div class="subject-category">
      <h4 class="category-title">Technology</h4>
      <div class="subjects-list">
        <label class="subject-checkbox">
          <input type="checkbox" value="ict" data-name="ICT">
          <span class="checkmark"></span>
          <span>ICT</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="engineering" data-name="Engineering Technology">
          <span class="checkmark"></span>
          <span>Engineering Technology</span>
        </label>
      </div>
    </div>
    <div class="subject-category">
      <h4 class="category-title">Common</h4>
      <div class="subjects-list">
        <label class="subject-checkbox">
          <input type="checkbox" value="gen-english" data-name="General English">
          <span class="checkmark"></span>
          <span>General English</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="cgt" data-name="Common General Test">
          <span class="checkmark"></span>
          <span>Common General Test</span>
        </label>
      </div>
    </div>
  `;
}

function loadOLSubjects(container) {
  container.innerHTML = `
    <div class="subject-category">
      <h4 class="category-title">Main Subjects</h4>
      <div class="subjects-list">
        <label class="subject-checkbox">
          <input type="checkbox" value="sinhala" data-name="Sinhala">
          <span class="checkmark"></span>
          <span>Sinhala</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="english" data-name="English">
          <span class="checkmark"></span>
          <span>English</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="mathematics" data-name="Mathematics">
          <span class="checkmark"></span>
          <span>Mathematics</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="science" data-name="Science">
          <span class="checkmark"></span>
          <span>Science</span>
        </label>
      </div>
    </div>
    <div class="subject-category">
      <h4 class="category-title">Social Studies</h4>
      <div class="subjects-list">
        <label class="subject-checkbox">
          <input type="checkbox" value="history" data-name="History">
          <span class="checkmark"></span>
          <span>History</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="geography" data-name="Geography">
          <span class="checkmark"></span>
          <span>Geography</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="citizenship" data-name="Citizenship Education">
          <span class="checkmark"></span>
          <span>Citizenship Education</span>
        </label>
      </div>
    </div>
    <div class="subject-category">
      <h4 class="category-title">Religion</h4>
      <div class="subjects-list">
        <label class="subject-checkbox">
          <input type="checkbox" value="buddhism" data-name="Buddhism">
          <span class="checkmark"></span>
          <span>Buddhism</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="catholic" data-name="Catholic">
          <span class="checkmark"></span>
          <span>Catholic</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="islam" data-name="Islam">
          <span class="checkmark"></span>
          <span>Islam</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="hindu" data-name="Hindu">
          <span class="checkmark"></span>
          <span>Hindu</span>
        </label>
      </div>
    </div>
    <div class="subject-category">
      <h4 class="category-title">Optional</h4>
      <div class="subjects-list">
        <label class="subject-checkbox">
          <input type="checkbox" value="ict" data-name="ICT">
          <span class="checkmark"></span>
          <span>ICT</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="commerce" data-name="Commerce">
          <span class="checkmark"></span>
          <span>Commerce</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="art" data-name="Art">
          <span class="checkmark"></span>
          <span>Art</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="music" data-name="Music">
          <span class="checkmark"></span>
          <span>Music</span>
        </label>
        <label class="subject-checkbox">
          <input type="checkbox" value="dancing" data-name="Dancing">
          <span class="checkmark"></span>
          <span>Dancing</span>
        </label>
      </div>
    </div>
  `;
}

// Countdown System
function updateCountdown() {
  const now = new Date();
  const batches = [
    { year: '2026', target: CONFIG.examDates['2026'], studyStart: CONFIG.studyStartDates['2026'] },
    { year: '2027', target: CONFIG.examDates['2027'], studyStart: CONFIG.studyStartDates['2027'] },
    { year: 'OL', target: CONFIG.examDates['ol'], studyStart: CONFIG.studyStartDates['ol'] }
  ];
  
  batches.forEach(batch => {
    let diff = batch.target - now;
    if(diff < 0) diff = 0;
    
    const secs = Math.floor(diff/1000) % 60;
    const mins = Math.floor(diff/1000/60) % 60;
    const hrs = Math.floor(diff/1000/60/60) % 24;
    const days = Math.floor(diff/1000/60/60/24);
    
    const newValues = {
      [`days${batch.year}`]: String(days).padStart(2,'0'),
      [`hours${batch.year}`]: String(hrs).padStart(2,'0'),
      [`minutes${batch.year}`]: String(mins).padStart(2,'0'),
      [`seconds${batch.year}`]: String(secs).padStart(2,'0')
    };
    
    Object.keys(newValues).forEach(key => {
      const element = document.getElementById(key);
      if (element) {
        element.textContent = newValues[key];
      }
    });
    
    const daysPassed = Math.floor((now - batch.studyStart) / 86400000);
    const daysPassedElement = document.getElementById(`daysPassed${batch.year}`);
    if (daysPassedElement) {
      daysPassedElement.textContent = Math.max(0, daysPassed);
    }
  });
}

// Timetable System - සියලුම බැච් සඳහා
function showMyExamDates() {
  const selectedSubjects = [];
  document.querySelectorAll('.subject-checkbox input[type="checkbox"]:checked').forEach(cb => {
    selectedSubjects.push({
      value: cb.value,
      name: cb.dataset.name,
      color: CONFIG.subjectColors[cb.value] || '#7c3aed'
    });
  });

  if (selectedSubjects.length === 0) {
    showAlert('⚠️', 'විශයන් තෝරන්න', 'කරුණාකර විෂයන් තෝරාගෙන නැවත උත්සාහ කරන්න.');
    return;
  }

  if (selectedSubjects.length < 3) {
    showAlert('⚠️', 'ප්‍රධාන විශයන් 3 වත් තෝරන්න', 'කරුණාකර ප්‍රධාන විෂයන් අවම වශයෙන් 3ක් තෝරාගෙන නැවත උත්සාහ කරන්න.');
    return;
  }

  // Show timetable popup for current batch
  openTimetablePopup(selectedSubjects);
}

function openTimetablePopup(subjects) {
  const content = document.getElementById('timetableContent');
  const title = document.getElementById('timetableTitle');
  
  let batchName = '';
  let batchYear = '';
  
  if (currentBatch === '2026') {
    batchName = 'A/L 2026';
    batchYear = '2026';
    title.textContent = '📅 A/L 2026 Exam Timetable';
  } else if (currentBatch === '2027') {
    batchName = 'A/L 2027';
    batchYear = '2027';
    title.textContent = '📅 A/L 2027 Exam Timetable';
  } else if (currentBatch === 'ol') {
    batchName = 'O/L 2026';
    batchYear = 'ol';
    title.textContent = '📅 O/L 2026 Exam Timetable';
  }
  
  // Create beautiful timetable layout
  let html = `
    <div class="timetable-header">
      <h4>🎯 ${batchName} Exam Timetable</h4>
      <p>Your Personalized Schedule</p>
    </div>
    <div class="timetable-subjects">
  `;
  
  // Add practical subjects if available
  const practicalSubjects = subjects.filter(subject => 
    CONFIG.timetableSettings.practicalSubjects[subject.value]
  );
  
  if (practicalSubjects.length > 0) {
    html += `<div style="margin-bottom: 16px;"><strong>🔬 Practical Exams:</strong></div>`;
    practicalSubjects.forEach(subject => {
      const practical = CONFIG.timetableSettings.practicalSubjects[subject.value];
      html += `
        <div class="timetable-subject" style="border-left: 4px solid ${subject.color}">
          <div class="subject-name">${subject.name} (Practical)</div>
          <div class="subject-date">📅 ${practical.date} • ⏰ ${practical.time}</div>
          <div class="subject-venue">⏱️ Duration: ${practical.duration}</div>
        </div>
      `;
    });
    html += `<div style="margin-bottom: 16px;"><strong>📚 Theory Exams:</strong></div>`;
  }
  
  // Add theory subjects
  subjects.forEach((subject, index) => {
    // Find exam date from config
    let examDate = 'To be announced';
    let examTime = '9:00 AM';
    
    const theoryDates = CONFIG.timetableSettings.theoryDates[batchYear];
    if (theoryDates) {
      for (let date of theoryDates) {
        if (date.subjects.includes(subject.name)) {
          examDate = date.date;
          examTime = date.time;
          break;
        }
      }
    }
    
    html += `
      <div class="timetable-subject" style="border-left: 4px solid ${subject.color}">
        <div class="subject-name">${subject.name}</div>
        <div class="subject-date">📅 ${examDate} • ⏰ ${examTime}</div>
        <div class="subject-venue">🏫 Exam Center: To be announced</div>
      </div>
    `;
  });
  
  html += `
    </div>
    <div class="timetable-footer">
      <p>📋 This timetable will be updated when official dates are released</p>
    </div>
  `;
  
  content.innerHTML = html;
  document.getElementById('timetablePopup').classList.add('show');
  document.body.style.overflow = 'hidden';
}

function closeTimetablePopup() {
  document.getElementById('timetablePopup').classList.remove('show');
  document.body.style.overflow = '';
}

function copyTimetableToClipboard() {
  const subjects = Array.from(document.querySelectorAll('.subject-checkbox input[type="checkbox"]:checked'))
    .map(cb => cb.dataset.name);
  
  let batchName = '';
  if (currentBatch === '2026') batchName = 'A/L 2026';
  else if (currentBatch === '2027') batchName = 'A/L 2027';
  else if (currentBatch === 'ol') batchName = 'O/L 2026';
  
  const timetableText = `📅 ${batchName} Exam Timetable\n\nවිෂයන්:\n${subjects.map(sub => `• ${sub}`).join('\n')}\n\nකාලසටහන තවම නිකුත් කර නොමැත. නිල කාලසටහන නිකුත් වූ වහාම යාවත්කාලීන කෙරේ.\n\nPowered by A/L Exam Countdown`;
  
  navigator.clipboard.writeText(timetableText).then(() => {
    showAlert('✅', 'Copied!', 'Timetable copied to clipboard! 📋\n\nYou can paste it anywhere to share your selected subjects.');
  }).catch(() => {
    showAlert('❌', 'Copy Failed', 'Failed to copy to clipboard. Please try again.');
  });
}

// WhatsApp System with 3 Bots
function openWhatsAppBot(botType) {
  const bot = CONFIG.whatsappBots[botType];
  if (!bot) return;
  
  window.open(`https://wa.me/${bot.number}?text=${encodeURIComponent(bot.message)}`, '_blank');
}

function openComplaintWhatsApp() {
  const message = `📝 Subject/Time Complaint Report 📝\n${currentBatch === '2026' ? 'A/L 2026' : currentBatch === '2027' ? 'A/L 2027' : 'O/L 2026'} Exam Timetable Complaint\n\nකරුණාකර ඔබේ complaint එක එවන්න:\n❗ Missing Subject\n⏰ Wrong Time\n📅 Wrong Date\n🔄 Other Issues`;
  window.open(`https://wa.me/${CONFIG.whatsappNumbers.complaint}?text=${encodeURIComponent(message)}`, '_blank');
}

// Initialize everything
document.querySelectorAll('.batch-btn').forEach(btn => {
  btn.addEventListener('click', () => switchBatch(btn.dataset.batch));
});

// Update time and countdown
function updateCurrentTime() {
  const now = new Date();
  document.getElementById('currentTime').textContent = now.toLocaleTimeString('en-US', {
    hour12: false, hour: '2-digit', minute: '2-digit'
  });
}

// Subject selection
function updateSelectedCount() {
  const count = document.querySelectorAll('.subject-checkbox input[type="checkbox"]:checked').length;
  document.getElementById('selectedCount').textContent = `${count} subject${count !== 1 ? 's' : ''} selected`;
}

function clearSelection() {
  document.querySelectorAll('.subject-checkbox input[type="checkbox"]').forEach(cb => cb.checked = false);
  updateSelectedCount();
}

document.addEventListener('change', function(e) {
  if (e.target.matches('.subject-checkbox input[type="checkbox"]')) {
    updateSelectedCount();
  }
});

// Quotes System (simplified)
function getDailyQuote() {
  const quotes = {
    '2026': "අනාගතය ඔබට අයත්! මේ මොහොතේ සිට පටන් ගන්න ✨",
    '2027': "ප්‍රථම පියවර තමයි වඩාම වැදගත්! ආරම්භ කරන්න 🎯", 
    'ol': "O/L තමයි ඔබේ අනාගතේ පදනම! දැන්ම ආරම්භ කරන්න 📚"
  };
  
  const quoteElement = document.getElementById(`dailyQuote${currentBatch === 'ol' ? 'OL' : currentBatch}`);
  if (quoteElement) {
    quoteElement.textContent = quotes[currentBatch] || "Success is the sum of small efforts repeated daily.";
  }
}

// Contact Form
const form = document.getElementById('contactForm');
const submitBtn = document.getElementById('submitBtn');
const statusMessage = document.getElementById('statusMessage');

form.addEventListener('submit', async (e) => {
  e.preventDefault();
  submitBtn.disabled = true;
  submitBtn.textContent = 'Sending...';
  statusMessage.classList.remove('show', 'success', 'error');

  try {
    const response = await fetch('https://api.web3forms.com/submit', {
      method: 'POST',
      headers: {'Content-Type': 'application/json', 'Accept': 'application/json'},
      body: JSON.stringify(Object.fromEntries(new FormData(form)))
    });

    const result = await response.json();

    if (result.success) {
      statusMessage.textContent = '✓ Message sent successfully!';
      statusMessage.classList.add('success', 'show');
      form.reset();
    } else {
      statusMessage.textContent = '✗ Something went wrong. Please try again.';
      statusMessage.classList.add('error', 'show');
    }
  } catch (error) {
    statusMessage.textContent = '✗ Network error. Please check your connection.';
    statusMessage.classList.add('error', 'show');
  } finally {
    submitBtn.disabled = false;
    submitBtn.textContent = 'Send Message';
    setTimeout(() => statusMessage.classList.remove('show'), 5000);
  }
});

// Contact Popup
function openContactPopup() {
  document.getElementById('contactPopup').classList.add('show');
  document.body.style.overflow = 'hidden';
}

function closeContactPopup() {
  document.getElementById('contactPopup').classList.remove('show');
  document.body.style.overflow = '';
}

document.getElementById('contactBtn').addEventListener('click', openContactPopup);
document.getElementById('contactPopup').addEventListener('click', function(e) {
  if (e.target === this) closeContactPopup();
});

// Event Listeners for Popups
document.addEventListener('click', function(e) {
  if (e.target.classList.contains('popup-overlay') || e.target.classList.contains('alert-overlay')) {
    closeAlert();
    closeContactPopup();
    closeTimetablePopup();
  }
});

document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    closeAlert();
    closeContactPopup();
    closeTimetablePopup();
  }
});

// Start intervals
setInterval(updateCountdown, 1000);
setInterval(updateCurrentTime, 1000);
setInterval(getDailyQuote, 3600000);

// Initial setup
updateSubjectSelectionForBatch('2026');
updateSelectedCount();
updateCountdown();
updateCurrentTime();
getDailyQuote();

console.log('🚀 A/L & O/L Exam Countdown - Fully Restored! ✅');
console.log('📅 All batches (2026, 2027, O/L) now have timetables!');
console.log('🔕 Notifications have been disabled as requested');
</script>
</body>
</html>
